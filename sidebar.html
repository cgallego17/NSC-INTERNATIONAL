<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <title>Sidebar Bootstrap 5</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Bootstrap 5 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Bootstrap Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
  <!-- Inter (opcional) -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">

  <style>
    :root{
      --sb-bg: #0f172a;          /* dark */
      --sb-text:#e5e7eb;
      --sb-muted:#94a3b8;
      --sb-border:#1f2937;
      --sb-hover:#1f2335;

      --sb-light:#ffffff;        /* light */
      --sb-light-text:#111827;
      --sb-light-muted:#6b7280;
      --sb-light-border:#e5e7eb;
      --sb-light-hover:#f3f4f6;

      --avatar-size: 44px;
      --sb-width: 300px;
      --sb-mini: 84px;

      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    }

    body{ background:#dfe3ea; }
    .layout{ display:flex; min-height:100vh; }

    /* Sidebar */
    .sidebar{
      position: relative;
      width:var(--sb-width);
      background:var(--sb-bg);
      color:var(--sb-text);
      border-right:1px solid var(--sb-border);
      display:flex; flex-direction:column;
      transition: width .25s ease;
    }
    .sidebar.light{
      background:var(--sb-light);
      color:var(--sb-light-text);
      border-right:1px solid var(--sb-light-border);
    }

    /* Header usuario */
    .sb-header{ padding:16px; border-bottom:1px solid var(--sb-border); }
    .light .sb-header{ border-bottom:1px solid var(--sb-light-border); }
    .avatar{
      width:var(--avatar-size); height:var(--avatar-size); border-radius:999px;
      display:grid; place-items:center; background:linear-gradient(135deg,#22c55e,#16a34a);
      color:#fff; font-weight:700;
    }
    .user-name{ font-weight:600; line-height:1; }
    .user-role{ font-size:.8rem; color:var(--sb-muted); }
    .light .user-role{ color:var(--sb-light-muted); }

    .sb-actions .btn{
      width:36px; height:36px; border-radius:10px; border:1px solid var(--sb-border);
      color:var(--sb-text); background:transparent; display:grid; place-items:center;
    }
    .light .sb-actions .btn{
      border-color:var(--sb-light-border); color:var(--sb-light-text); background:#fff;
    }

    /* Navegación */
    .sb-nav{ padding:10px; overflow:auto; }
    .sb-label{ font-size:.82rem; color:var(--sb-muted); padding:8px 8px 6px; }
    .light .sb-label{ color:var(--sb-light-muted); }

    .sb-item{
      border:1px solid var(--sb-border);
      background:transparent; color:inherit;
      border-radius:12px; height:44px;
      display:flex; align-items:center; gap:.75rem;
      width:100%; padding:0 .75rem; text-decoration:none;
    }
    .sb-item:hover{ background:var(--sb-hover); }
    .light .sb-item{ border-color:var(--sb-light-border); }
    .light .sb-item:hover{ background:var(--sb-light-hover); }

    .sb-ico{ width:22px; text-align:center; font-size:1rem; color:#d1d5db; }
    .light .sb-ico{ color:#111827; }
    .sb-right{ margin-left:auto; color:var(--sb-muted); }

    /* Submenús */
    .sb-sub{ margin:6px 0 10px 38px; border-left:2px solid var(--sb-border); padding-left:12px; }
    .light .sb-sub{ border-left-color:var(--sb-light-border); }
    .sb-sub .link{
      display:flex; align-items:center; height:34px; border-radius:10px;
      padding:0 .5rem; font-size:.92rem; color:var(--sb-muted); text-decoration:none;
      border:1px solid transparent;
    }
    .sb-sub .link:hover{ color:var(--sb-text); background:var(--sb-hover); border-color:var(--sb-border);}
    .light .sb-sub .link{ color:var(--sb-light-muted); }
    .light .sb-sub .link:hover{ color:var(--sb-light-text); background:var(--sb-light-hover); border-color:var(--sb-light-border); }
    .sb-sub .link.active{ color:var(--sb-text); background:var(--sb-hover); border-color:var(--sb-border); font-weight:600; }
    .light .sb-sub .link.active{ color:var(--sb-light-text); background:var(--sb-light-hover); border-color:var(--sb-light-border); }

    /* Footer */
    .sb-footer{ margin-top:auto; padding:10px; border-top:1px solid var(--sb-border); }
    .light .sb-footer{ border-top:1px solid var(--sb-light-border); }

    /* Estado colapsado */
    .sidebar.mini{ width:var(--sb-mini); }
    .sidebar.mini .hide-mini{ display:none !important; }
    .sidebar.mini .sb-item{ justify-content:center; }
    .sidebar.mini .sb-header{ justify-content:center; }
    .sidebar.mini .sb-actions{ display:none; }

    /* Botón flotante para reabrir (fuera del sidebar) */
    .mini-toggle{
      position: fixed;             /* fijo en pantalla */
      left: 12px;
      top: 50%; transform: translateY(-50%);
      z-index: 1050;
      width:44px; height:34px;
      border-radius:10px;
      border:1px solid var(--sb-border);
      background:var(--sb-bg);
      color:var(--sb-text);
      box-shadow: 0 6px 20px rgba(0,0,0,.25);
      display:none; align-items:center; justify-content:center;
    }
    /* Se muestra solo cuando el sidebar está en mini */
    .sidebar.mini ~ .mini-toggle{ display:flex; }

    /* Apariencia en tema claro */
    .light ~ .mini-toggle{
      border-color:var(--sb-light-border);
      color:var(--sb-light-text);
      background:#fff;
    }

    /* Separador visual del contenido (opcional) */
    .content-card{ border-radius:16px; }
  </style>
</head>
<body>

<div class="layout">
  <!-- SIDEBAR -->
  <aside id="sidebar" class="sidebar">
    <!-- Header usuario -->
    <div class="sb-header d-flex align-items-center gap-3">
      <div class="avatar">A</div>
      <div class="hide-mini">
        <div class="user-name">Alexe Jordan</div>
        <div class="user-role">Sales Manager</div>
      </div>
      <div class="ms-auto sb-actions hide-mini d-flex gap-2">
        <button id="btnTheme" class="btn" type="button" aria-label="Tema"><i class="bi bi-moon"></i></button>
        <button id="btnMini" class="btn" type="button" aria-label="Colapsar"><i class="bi bi-list"></i></button>
      </div>
    </div>

    <!-- Navegación -->
    <nav class="sb-nav">
      <div class="sb-label hide-mini">E-commerce</div>

      <a href="#" class="sb-item" data-bs-title="Dashboard">
        <i class="sb-ico bi bi-speedometer2"></i>
        <span class="hide-mini">Dashboard</span>
        <i class="sb-right bi bi-plus hide-mini"></i>
      </a>

      <!-- Orders -->
      <button class="sb-item w-100" data-bs-toggle="collapse" data-bs-target="#sbOrders" aria-expanded="true" data-bs-title="Orders">
        <i class="sb-ico bi bi-bag"></i>
        <span class="hide-mini">Orders</span>
        <i class="sb-right bi bi-dash hide-mini"></i>
      </button>
      <div id="sbOrders" class="collapse show sb-sub">
        <a class="link" href="#">All Orders</a>
        <a class="link active" href="#">Orders List</a>
        <a class="link" href="#">Orders Details</a>
        <a class="link" href="#">Invoice Order</a>
        <a class="link" href="#">Cancel Order</a>
      </div>

      <!-- Products -->
      <button class="sb-item w-100" data-bs-toggle="collapse" data-bs-target="#sbProducts" aria-expanded="false" data-bs-title="Products">
        <i class="sb-ico bi bi-box-seam"></i>
        <span class="hide-mini">Products</span>
        <i class="sb-right bi bi-plus hide-mini"></i>
      </button>
      <div id="sbProducts" class="collapse sb-sub">
        <a class="link" href="#">List</a>
        <a class="link" href="#">New Product</a>
      </div>

      <!-- Buyer -->
      <button class="sb-item w-100" data-bs-toggle="collapse" data-bs-target="#sbBuyer" aria-expanded="false" data-bs-title="Buyer">
        <i class="sb-ico bi bi-person"></i>
        <span class="hide-mini">Buyer</span>
        <i class="sb-right bi bi-plus hide-mini"></i>
      </button>
      <div id="sbBuyer" class="collapse sb-sub">
        <a class="link" href="#">Profiles</a>
        <a class="link" href="#">Segments</a>
      </div>

      <!-- Customers -->
      <button class="sb-item w-100" data-bs-toggle="collapse" data-bs-target="#sbCustomers" aria-expanded="false" data-bs-title="Customers">
        <i class="sb-ico bi bi-people"></i>
        <span class="hide-mini">Customers</span>
        <i class="sb-right bi bi-plus hide-mini"></i>
      </button>
      <div id="sbCustomers" class="collapse sb-sub">
        <a class="link" href="#">List</a>
        <a class="link" href="#">New Customer</a>
      </div>

      <!-- Invoices -->
      <button class="sb-item w-100" data-bs-toggle="collapse" data-bs-target="#sbInvoices" aria-expanded="false" data-bs-title="Invoices">
        <i class="sb-ico bi bi-file-earmark-text"></i>
        <span class="hide-mini">Invoices</span>
        <i class="sb-right bi bi-plus hide-mini"></i>
      </button>
      <div id="sbInvoices" class="collapse sb-sub">
        <a class="link" href="#">All</a>
        <a class="link" href="#">Drafts</a>
      </div>

      <div class="sb-label hide-mini">Apps</div>

      <a href="#" class="sb-item" data-bs-title="Chats">
        <i class="sb-ico bi bi-chat-dots"></i>
        <span class="hide-mini">Chats</span>
      </a>
      <a href="#" class="sb-item" data-bs-title="Email">
        <i class="sb-ico bi bi-envelope"></i>
        <span class="hide-mini">Email</span>
      </a>
      <a href="#" class="sb-item" data-bs-title="Todo App">
        <i class="sb-ico bi bi-check2-square"></i>
        <span class="hide-mini">Todo App</span>
      </a>

      <div class="sb-label hide-mini">Cuenta</div>

      <a href="#" class="sb-item" data-bs-title="Setting">
        <i class="sb-ico bi bi-gear"></i>
        <span class="hide-mini">Setting</span>
      </a>
    </nav>

    <!-- Footer -->
    <div class="sb-footer">
      <a href="#" class="sb-item" data-bs-title="Log Out">
        <i class="sb-ico bi bi-box-arrow-right"></i>
        <span class="hide-mini">Log Out</span>
      </a>
    </div>
  </aside>

  <!-- Botón flotante para reabrir (si el sidebar está en mini) -->
  <button id="btnMiniOpen" class="mini-toggle" type="button" aria-label="Expandir" data-bs-title="Expandir">
    <i class="bi bi-list"></i>
  </button>

  <!-- CONTENIDO DEMO -->
  <main class="flex-grow-1 p-4">
    <div class="container-fluid">
      <div class="card shadow-sm border-0 content-card">
        <div class="card-body">
          <h4 class="mb-2">Contenido</h4>
          <p class="text-secondary mb-0">Este es el área principal de tu app.</p>
        </div>
      </div>
    </div>
  </main>
</div>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script>
  const sidebar    = document.getElementById('sidebar');
  const btnTheme   = document.getElementById('btnTheme');
  const btnMini    = document.getElementById('btnMini');
  const btnMiniOpen= document.getElementById('btnMiniOpen');

  // Tooltips solo cuando está mini
  function enableMiniTooltips(){
    const need = sidebar.classList.contains('mini');
    document.querySelectorAll('.sb-item, #btnMiniOpen').forEach(el=>{
      const tip = el.getAttribute('data-bs-title');
      const inst = bootstrap.Tooltip.getInstance(el);
      if(inst) inst.dispose();
      if(need && tip){
        new bootstrap.Tooltip(el, { placement:'right', title: tip });
      }
    });
  }

  // Tema
  function setTheme(mode){
    if(mode==='light'){
      sidebar.classList.add('light');
      document.body.style.background = '#e5e7eb';
      btnTheme && (btnTheme.innerHTML = '<i class="bi bi-brightness-high"></i>');
      localStorage.setItem('sb-theme','light');
    }else{
      sidebar.classList.remove('light');
      document.body.style.background = '#dfe3ea';
      btnTheme && (btnTheme.innerHTML = '<i class="bi bi-moon"></i>');
      localStorage.setItem('sb-theme','dark');
    }
  }

  // Mini
  function setMini(state){
    sidebar.classList.toggle('mini', !!state);
    localStorage.setItem('sb-mini', state ? '1':'0');
    enableMiniTooltips();
  }

  // Eventos
  btnTheme?.addEventListener('click', ()=> setTheme(sidebar.classList.contains('light') ? 'dark':'light'));
  btnMini?.addEventListener('click',  ()=> setMini(!sidebar.classList.contains('mini')));
  btnMiniOpen.addEventListener('click', ()=> setMini(false)); // reabrir desde mini

  // Restaurar preferencias
  setTheme(localStorage.getItem('sb-theme') || 'dark');
  setMini(localStorage.getItem('sb-mini') === '1');
</script>
</body>
</html>
