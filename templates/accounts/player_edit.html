{% extends 'base.html' %}
{% load static %}
{% load i18n %}

{% block title %}Editar Jugador - NCS International{% endblock %}

{% block breadcrumb %}
    <span>Jugadores</span>
    <span>Editar</span>
{% endblock %}

{% block content %}
<div class="tab-content-header mb-4">
    <h4 style="color: var(--mlb-blue); font-weight: 800; font-size: 1.5rem; margin-bottom: 10px;">
        <i class="fas fa-user-edit me-2" style="color: var(--mlb-red);"></i>{% trans "Edit Player" %}
    </h4>
    <p class="text-muted">{% trans "Modify player information" %}: {{ object.user.get_full_name|default:object.user.username }}</p>
</div>

<div class="form-container">
    <form method="post" enctype="multipart/form-data" id="playerEditForm">
        {% csrf_token %}
        
        {% if form.non_field_errors %}
            <div class="alert alert-danger">
                <i class="fas fa-exclamation-triangle me-2"></i>
                {{ form.non_field_errors }}
            </div>
        {% endif %}
        
        <!-- Información de Usuario -->
        <div class="form-section">
            <div class="form-section-title">
                <i class="fas fa-user me-2"></i>{% trans "User Information" %}
            </div>
            <div class="row">
                <div class="col-md-4 mb-3">
                    <label for="{{ form.first_name.id_for_label }}" class="form-label required-field">
                        <i class="fas fa-user me-1"></i>{% trans "First Name" %}
                    </label>
                    {{ form.first_name }}
                    {% if form.first_name.errors %}
                        <div class="error-message">{{ form.first_name.errors }}</div>
                    {% endif %}
                </div>
                <div class="col-md-4 mb-3">
                    <label for="{{ form.last_name.id_for_label }}" class="form-label required-field">
                        <i class="fas fa-user me-1"></i>{% trans "Last Name" %}
                    </label>
                    {{ form.last_name }}
                    {% if form.last_name.errors %}
                        <div class="error-message">{{ form.last_name.errors }}</div>
                    {% endif %}
                </div>
                <div class="col-md-4 mb-3">
                    <label for="{{ form.last_name2.id_for_label }}" class="form-label">
                        <i class="fas fa-user me-1"></i>{% trans "Second Last Name" %}
                    </label>
                    {{ form.last_name2 }}
                    {% if form.last_name2.errors %}
                        <div class="error-message">{{ form.last_name2.errors }}</div>
                    {% endif %}
                    <div class="help-text">{% trans "Optional" %}</div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label for="{{ form.email.id_for_label }}" class="form-label required-field">
                        <i class="fas fa-envelope me-1"></i>{% trans "Email" %}
                    </label>
                    {{ form.email }}
                    {% if form.email.errors %}
                        <div class="error-message">{{ form.email.errors }}</div>
                    {% endif %}
                </div>
                <div class="col-md-6 mb-3">
                    <label for="{{ form.phone.id_for_label }}" class="form-label">
                        <i class="fas fa-phone me-1"></i>{% trans "Phone" %}
                    </label>
                    {{ form.phone }}
                    {% if form.phone.errors %}
                        <div class="error-message">{{ form.phone.errors }}</div>
                    {% endif %}
                </div>
            </div>
        </div>
        
        <!-- Información del Jugador -->
        <div class="form-section">
            <div class="form-section-title">
                <i class="fas fa-baseball-ball me-2"></i>{% trans "Player Information" %}
            </div>
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label for="{{ form.team.id_for_label }}" class="form-label required-field">
                        <i class="fas fa-users me-1"></i>{% trans "Team" %}
                    </label>
                    {{ form.team }}
                    {% if form.team_hidden %}
                        {{ form.team_hidden }}
                    {% endif %}
                    {% if form.team.errors %}
                        <div class="error-message">{{ form.team.errors }}</div>
                    {% endif %}
                </div>
                <div class="col-md-6 mb-3">
                    <label for="{{ form.jersey_number.id_for_label }}" class="form-label">
                        <i class="fas fa-hashtag me-1"></i>{% trans "Jersey Number" %}
                    </label>
                    {{ form.jersey_number }}
                    {% if form.jersey_number.errors %}
                        <div class="error-message">{{ form.jersey_number.errors }}</div>
                    {% endif %}
                </div>
            </div>
            <div class="row">
                <div class="col-md-4 mb-3">
                    <label for="{{ form.position.id_for_label }}" class="form-label">
                        <i class="fas fa-map-marker-alt me-1"></i>{% trans "Position" %}
                    </label>
                    {{ form.position }}
                    {% if form.position.errors %}
                        <div class="error-message">{{ form.position.errors }}</div>
                    {% endif %}
                </div>
                <div class="col-md-4 mb-3">
                    <label for="{{ form.height.id_for_label }}" class="form-label">
                        <i class="fas fa-ruler-vertical me-1"></i>{% trans "Height" %}
                    </label>
                    {{ form.height }}
                    {% if form.height.errors %}
                        <div class="error-message">{{ form.height.errors }}</div>
                    {% endif %}
                    <div class="help-text">{% trans "Ex: 6'2\" or 5'10\"" %}</div>
                </div>
                <div class="col-md-4 mb-3">
                    <label for="{{ form.weight.id_for_label }}" class="form-label">
                        <i class="fas fa-weight me-1"></i>{% trans "Weight (lbs)" %}
                    </label>
                    {{ form.weight }}
                    {% if form.weight.errors %}
                        <div class="error-message">{{ form.weight.errors }}</div>
                    {% endif %}
                </div>
            </div>
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label for="{{ form.batting_hand.id_for_label }}" class="form-label">
                        <i class="fas fa-hand-paper me-1"></i>{% trans "Batting" %}
                    </label>
                    {{ form.batting_hand }}
                    {% if form.batting_hand.errors %}
                        <div class="error-message">{{ form.batting_hand.errors }}</div>
                    {% endif %}
                </div>
                <div class="col-md-6 mb-3">
                    <label for="{{ form.throwing_hand.id_for_label }}" class="form-label">
                        <i class="fas fa-hand-paper me-1"></i>{% trans "Throwing" %}
                    </label>
                    {{ form.throwing_hand }}
                    {% if form.throwing_hand.errors %}
                        <div class="error-message">{{ form.throwing_hand.errors }}</div>
                    {% endif %}
                </div>
            </div>
        </div>
        
        <!-- Botones de Acción -->
        <div class="form-actions">
            <a href="{% url 'accounts:player_detail' object.pk %}" class="btn btn-form-cancel">
                <i class="fas fa-times me-2"></i>{% trans "Cancel" %}
            </a>
            <button type="submit" class="btn btn-form-submit">
                <i class="fas fa-save me-2"></i>{% trans "Save Changes" %}
            </button>
        </div>
    </form>
</div>
{% endblock %}
