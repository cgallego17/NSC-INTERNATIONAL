{% extends 'base.html' %}
{% load static %}

{% block title %}Configuraciones del Sitio - NSC International{% endblock %}

{% block extra_css %}
<style>
    .settings-container {
        padding: 2rem;
        max-width: 1200px;
        margin: 0 auto;
    }
    
    .form-section {
        background: #fff;
        border: 1px solid #e0e0e0;
        border-radius: 8px;
        padding: 1.5rem;
        margin-bottom: 2rem;
    }
    
    .form-section h3 {
        margin-top: 0;
        margin-bottom: 1.5rem;
        padding-bottom: 0.75rem;
        border-bottom: 2px solid #e0e0e0;
        color: #333;
        font-size: 1.25rem;
    }
    
    .form-group {
        margin-bottom: 1.5rem;
    }
    
    .form-group label {
        display: block;
        margin-bottom: 0.5rem;
        font-weight: 600;
        color: #555;
    }
    
    .form-group textarea {
        width: 100%;
        padding: 0.75rem;
        border: 1px solid #ddd;
        border-radius: 4px;
        font-size: 1rem;
        font-family: inherit;
        resize: vertical;
        min-height: 80px;
    }
    
    .form-group textarea:focus {
        outline: none;
        border-color: #007bff;
        box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.1);
    }
    
    .form-group input[type="file"] {
        width: 100%;
        padding: 0.5rem;
        border: 1px solid #ddd;
        border-radius: 4px;
    }
    
    .image-preview {
        max-width: 100%;
        max-height: 300px;
        margin-top: 1rem;
        border: 1px solid #ddd;
        border-radius: 4px;
        padding: 0.5rem;
    }
    
    .btn-group {
        display: flex;
        gap: 1rem;
        margin-top: 2rem;
    }
    
    .btn {
        padding: 0.75rem 1.5rem;
        border: none;
        border-radius: 4px;
        font-size: 1rem;
        cursor: pointer;
        text-decoration: none;
        display: inline-block;
    }
    
    .btn-primary {
        background: #007bff;
        color: white;
    }
    
    .btn-primary:hover {
        background: #0056b3;
    }
    
    .btn-secondary {
        background: #6c757d;
        color: white;
    }
    
    .btn-secondary:hover {
        background: #545b62;
    }
</style>
{% endblock %}

{% block content %}
<!-- Template actualizado: 2024-12-19 -->
<div class="settings-container">
    <h1>Configuraciones del Sitio OEEEEEEEEEEE</h1>
    <p class="text-muted">Gestiona el contenido de las secciones del home 000asdsa</p>
    
    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        
        <!-- Imagen del Schedule -->
        <div class="form-section">
            <h3>Imagen del Schedule</h3>
            <div class="form-group">
                <label for="schedule_image">Imagen del Schedule</label>
                <input type="file" name="schedule_image" id="schedule_image" accept="image/*">
                {% if site_settings.schedule_image %}
                    <img src="{{ site_settings.schedule_image.url }}" alt="Schedule" class="image-preview" id="schedule_preview">
                {% else %}
                    <img src="" alt="Preview" class="image-preview" id="schedule_preview" style="display: none;">
                {% endif %}
            </div>
        </div>
        
        <!-- Schedule - Inglés -->
        <div class="form-section">
            <h3>Schedule - Inglés (English)</h3>
            <div class="form-group">
                <label for="schedule_title_en">Título</label>
                <textarea name="schedule_title_en" id="schedule_title_en" rows="2" required>{{ site_settings.schedule_title_en|default:"" }}</textarea>
            </div>
            <div class="form-group">
                <label for="schedule_subtitle_en">Subtítulo</label>
                <textarea name="schedule_subtitle_en" id="schedule_subtitle_en" rows="2" required>{{ site_settings.schedule_subtitle_en|default:"" }}</textarea>
            </div>
            <div class="form-group">
                <label for="schedule_description_en">Descripción</label>
                <textarea name="schedule_description_en" id="schedule_description_en" rows="5">{{ site_settings.schedule_description_en|default:"" }}</textarea>
            </div>
        </div>
        
        <!-- Schedule - Español -->
        <div class="form-section">
            <h3>Schedule - Español (Spanish)</h3>
            <div class="form-group">
                <label for="schedule_title_es">Título</label>
                <textarea name="schedule_title_es" id="schedule_title_es" rows="2" required>{{ site_settings.schedule_title_es|default:"" }}</textarea>
            </div>
            <div class="form-group">
                <label for="schedule_subtitle_es">Subtítulo</label>
                <textarea name="schedule_subtitle_es" id="schedule_subtitle_es" rows="2" required>{{ site_settings.schedule_subtitle_es|default:"" }}</textarea>
            </div>
            <div class="form-group">
                <label for="schedule_description_es">Descripción</label>
                <textarea name="schedule_description_es" id="schedule_description_es" rows="5">{{ site_settings.schedule_description_es|default:"" }}</textarea>
            </div>
        </div>
        
        <!-- Imagen del Showcase -->
        <div class="form-section">
            <h3>Imagen del Showcase</h3>
            <div class="form-group">
                <label for="showcase_image">Imagen del Showcase</label>
                <input type="file" name="showcase_image" id="showcase_image" accept="image/*">
                {% if site_settings.showcase_image %}
                    <img src="{{ site_settings.showcase_image.url }}" alt="Showcase" class="image-preview" id="showcase_preview">
                {% else %}
                    <img src="" alt="Preview" class="image-preview" id="showcase_preview" style="display: none;">
                {% endif %}
            </div>
        </div>
        
        <!-- Showcase - Inglés -->
        <div class="form-section">
            <h3>Showcase - Inglés (English)</h3>
            <div class="form-group">
                <label for="showcase_title_en">Título</label>
                <textarea name="showcase_title_en" id="showcase_title_en" rows="2" required>{{ site_settings.showcase_title_en|default:"" }}</textarea>
            </div>
            <div class="form-group">
                <label for="showcase_subtitle_en">Subtítulo</label>
                <textarea name="showcase_subtitle_en" id="showcase_subtitle_en" rows="2" required>{{ site_settings.showcase_subtitle_en|default:"" }}</textarea>
            </div>
            <div class="form-group">
                <label for="showcase_description_en">Descripción</label>
                <textarea name="showcase_description_en" id="showcase_description_en" rows="5">{{ site_settings.showcase_description_en|default:"" }}</textarea>
            </div>
        </div>
        
        <!-- Showcase - Español -->
        <div class="form-section">
            <h3>Showcase - Español (Spanish)</h3>
            <div class="form-group">
                <label for="showcase_title_es">Título</label>
                <textarea name="showcase_title_es" id="showcase_title_es" rows="2" required>{{ site_settings.showcase_title_es|default:"" }}</textarea>
            </div>
            <div class="form-group">
                <label for="showcase_subtitle_es">Subtítulo</label>
                <textarea name="showcase_subtitle_es" id="showcase_subtitle_es" rows="2" required>{{ site_settings.showcase_subtitle_es|default:"" }}</textarea>
            </div>
            <div class="form-group">
                <label for="showcase_description_es">Descripción</label>
                <textarea name="showcase_description_es" id="showcase_description_es" rows="5">{{ site_settings.showcase_description_es|default:"" }}</textarea>
            </div>
        </div>
        
        <!-- Botones -->
        <div class="btn-group">
            <a href="{% url 'accounts:home_content_admin' %}" class="btn btn-secondary">Cancelar</a>
            <button type="submit" class="btn btn-primary">Guardar Configuraciones</button>
        </div>
    </form>
</div>

<script>
    // Preview de imágenes
    document.getElementById('schedule_image')?.addEventListener('change', function(e) {
        const file = e.target.files[0];
        if (file) {
            const reader = new FileReader();
            reader.onload = function(e) {
                const preview = document.getElementById('schedule_preview');
                preview.src = e.target.result;
                preview.style.display = 'block';
            };
            reader.readAsDataURL(file);
        }
    });
    
    document.getElementById('showcase_image')?.addEventListener('change', function(e) {
        const file = e.target.files[0];
        if (file) {
            const reader = new FileReader();
            reader.onload = function(e) {
                const preview = document.getElementById('showcase_preview');
                preview.src = e.target.result;
                preview.style.display = 'block';
            };
            reader.readAsDataURL(file);
        }
    });
</script>
{% endblock %}
